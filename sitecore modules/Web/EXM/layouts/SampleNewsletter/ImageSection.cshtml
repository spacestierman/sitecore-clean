@using Sitecore.EmailCampaign.SampleNewsletter
@using Sitecore.EmailCampaign.SampleNewsletter.Extensions
@using Sitecore.Mvc
@using Sitecore.Resources.Media
@model Sitecore.EmailCampaign.SampleNewsletter.Models.SectionViewModel
@if (Model == null)
{
    if (Sitecore.Context.PageMode.IsExperienceEditor)
    {
        <div>Datasource item not set</div>
    }

    return;
}

@if (Sitecore.Context.PageMode.IsExperienceEditor)
{
    <center style="font-size: 0">
        @Html.Sitecore().ImageField(Templates.SectionContent.Fields.Image, mw: Model.NewsletterOptions.MaxWidth, item: Model.ContentItem)
    </center>
}
else if (Model.ContentItem.FieldHasValue(Templates.SectionContent.Fields.Image))
{
    <center style="font-size: 0">
        <img src="@Model.ContentItem.ImageUrl(Templates.SectionContent.Fields.Image, new MediaUrlOptions {MaxWidth = Model.NewsletterOptions.MaxWidth})" alt="" width="100%">
    </center>
}
