<!--

Purpose: This file enables the components and features related to aggregation subsystem.

-->
<configuration xmlns:role="http://www.sitecore.net/xmlconfig/role/">
    <sitecore role:require="Standalone or Processing">
        <experienceAnalytics>
            <aggregation>
                <logger type="Sitecore.ExperienceAnalytics.Core.Diagnostics.Logger, Sitecore.ExperienceAnalytics.Core" singleInstance="true"/>
                <!-- This section hosts the definitions of the Experience Analytics dimensions
                'id' attribute is the unique identifier and should match the ID of the corresponding dimension definition item in Marketing Control Panel
                'type' attribute references the fully qualified class name and assembly name with the dimension implementation.
                -->
                <dimensions>
                    <dimension id="{EF129780-FFCF-4EAF-B429-80D25315248E}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{A1BCAB9A-1A98-4A3D-A58F-34ACF7931C49}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{214E8E8C-519A-4803-8579-3CA466F9F29F}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete channel type dimension -->
                    <dimension id="{6237CC24-4FF5-4869-B898-FC6A534F3C3E}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete channel dimension -->
                    <dimension id="{86CA3214-A950-4EEF-BEE6-A2C5CF6FAC24}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete channel group dimension -->
                    <dimension id="{595A12E2-CEF6-4B1C-9990-83FDD7173533}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete geo dimensions -->
                    <dimension id="{988A1D00-9D00-4F05-97EC-DF3391F8CCE7}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{1879168B-AF5E-4E9C-9DAE-8B71125F2AD2}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{33ACD611-FE19-4769-99F9-1EF1D997BDC5}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete Asset dimension -->
                    <dimension id="{42C02019-CCB4-4C49-BD4E-B736C6698089}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete download dimension -->
                    <dimension id="{DACF0445-EDB1-4A90-851E-380DC6A36541}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete Campaign and Campaign Group dimension <New flexi dimension would be used>-->
                    <dimension id="{A8EC3E11-A417-4624-A612-12A406284D4B}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{3E01BA28-2B4D-408A-A4BA-6C51ED9FFB9C}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete language dimension. New flexi language dimension will be used -->
                    <dimension id="{6295C8F0-5ACB-4634-A1D6-6D3248EC210C}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete pattern dimension. New flexi pattern dimension will be used -->
                    <dimension id="{C001F4B2-0523-436E-9097-AD4E39D51835}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete referring site dimension. New flexible dimension will be used -->
                    <dimension id="{E6CC7A2B-6E72-40CE-9315-88F4617CDB10}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete page related dimensions -->
                    <dimension id="{F197D8FF-D4C8-42DF-BC6E-512F17292674}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{81379156-7721-4EE5-8951-AE92E1CDF090}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{3DC11B43-1D7F-4169-A87D-291D57ECEDA6}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{F2C1CCBF-C2D6-4FF9-A3BF-DD55E60071A2}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{6B945AE7-673F-412A-96F8-F53EF9D63BBC}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{CBD2E37E-CC79-4A5A-8B3B-95F6B7D7FF53}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <!-- Obsolete local search keyword -->
                    <dimension id="{CBEE2CF5-51DB-4106-A7A9-BF87AB173742}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete PageViews dimension -->
                    <dimension id="{8345E6DF-8982-4F32-B478-40D672E914BB}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Conversions dimension -->
                    <dimension id="{6DD3E3A7-FE91-4860-9BF6-388863AD7C9D}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Goal dimension -->
                    <dimension id="{6F502E86-5CDB-4D4E-B3A1-905D41B86E9F}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Asset group dimension -->
                    <dimension id="{197EB127-284D-436A-A576-486A7B01013E}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Outcome and Outcome Group dimensions -->
                    <dimension id="{D6BC9E66-E51A-4481-AAE2-F31189CCA572}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{A23E7058-5A8C-426F-A417-927D3F7DF487}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete campaign facet dimensions -->
                    <dimension id="{1A0F92E9-A2CC-41D9-8D1B-B0839CB1104B}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{87F05F2A-D4A0-43DA-8676-196639D3F6A8}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />

                    <dimension id="{D551A7B4-535F-4138-8361-7B12BF9216A4}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Goal Facet Group dimension -->
                    <dimension id="{232D5449-4DBB-4101-8A0E-41E003A91484}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Goal Facet dimension -->
                    <dimension id="{D135E856-FC48-4F6E-987F-5566A180215D}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{E5D56897-23D1-46F3-B8FB-D351C1CAFB7E}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <!-- Obsolete Device dimension -->
                    <dimension id="{84AF4324-8096-4A5E-9C5C-DBBE92D814D3}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                    <dimension id="{CC287753-DFF8-470A-B586-A23DA9B80ECA}" type="Sitecore.ExperienceAnalytics.Aggregation.Dimensions.NopDimension, Sitecore.ExperienceAnalytics.Aggregation" />
                </dimensions>

                <flexibleDimensions>
                    <!--Channel-->
                    <dimension id="{6D88FEC6-1D64-46F1-8A60-270B8CE2CC78}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.Channel.Channel, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.TaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.UnknownTaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                        <param desc="level">2</param>
                                    </param>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>
                    <!--ChannelGroup-->
                    <dimension id="{8085A926-81C0-4AF4-B3C8-2DE0D06438CF}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.Channel.Channel, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelGroupResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.TaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.UnknownTaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                        <param desc="level">1</param>
                                    </param>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>
                    <!--ChannelType-->
                    <dimension id="{550C5A53-E190-40BA-95EB-A33C54827A20}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.Channel.Channel, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelTypeResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Outcome-->
                    <dimension id="{5797E54E-37AF-4EC5-B8BA-DD7F3EAFD6C9}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Outcome, Sitecore.XConnect]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredOutcomeDefinitionManager"/>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Outcome Group-->
                    <dimension id="{2EA8CCFD-8FAC-4CF2-9F70-FBFDD5C07CEA}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Outcome, Sitecore.XConnect]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredOutcomeManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Goal-->
                    <dimension id="{148758D7-7523-4787-A7D9-9379E5BC5514}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Goal, Sitecore.XConnect]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Goal Facet-->
                    <dimension id="{6634C79C-1E55-485F-9157-93ABA18BCC67}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.TaxonUri, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetGoalTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Goal Facet Group-->
                    <dimension id="{C1491C3D-0A63-45E1-9510-B954415C9E08}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.TaxonUri, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetGoalTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign-->
                    <dimension id="{7892D03C-03A8-44B4-8815-5D66666CECED}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Definitions.Campaigns.ICampaignActivityDefinition, Sitecore.Marketing]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredCampaignDefinitionManager"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredCampaignDefinitionManager"/>
                                    <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign Group-->
                    <dimension id="{BA96B8EB-4828-440B-BA84-2D6C689D42D9}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Definitions.Campaigns.ICampaignActivityDefinition, Sitecore.Marketing]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignGroupResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredCampaignDefinitionManager"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign Facet-->
                    <dimension id="{D00D6A78-BC26-4F6D-A391-2F22D9D5A8F4}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.TaxonUri, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetCampaignTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign Facet Group-->
                    <dimension id="{4EEDC7EB-65DB-46EC-818E-5366B82E034B}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.TaxonUri, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetCampaignTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Page-->
                    <dimension id="{B3807A36-E0D1-49E1-A605-17B2E2077231}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" />
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Entry Page-->
                    <dimension id="{24307E3B-951F-463C-9310-475757EA2871}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" />
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Exit Page-->
                    <dimension id="{2BA45688-F3D7-4D94-9996-AC22435FAA9F}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" />
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Page url-->
                    <dimension id="{90C53CD7-3FA2-4057-83B2-6A870CCBA2A6}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageUrlResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Entry Page Url-->
                    <dimension id="{5A1A3D23-591C-44B9-8550-FDB9695F21BD}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPageUrlResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Exit Page url-->
                    <dimension id="{1C48CE32-F06C-4F02-9D80-82AE7994ADB9}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPageUrlResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <dimension id="{5D1275D9-C16B-4BD2-8419-297CD2384F41}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.DownloadEvent, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <dimension id="{5858B47C-C8F3-4E48-9B10-500EBE0E9DCE}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Pattern-->
                    <dimension id="{8F44FFFA-A744-44C5-B958-4B5C961EC65C}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.ProfileScore, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Language-->
                    <dimension id="{87225105-0BAA-4913-929E-916E8210DC70}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                   <!--local search keyword -->
                    <dimension id="{CB9ED373-3A28-4DA0-BC0A-2C77D37D9E23}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.SearchMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.LocalSearchResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.SearchFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Asset -->
                    <dimension id="{D65020DC-EEBF-4652-8A28-CCD9395C83B8}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.DownloadEvent, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Asset Group -->
                    <dimension id="{6C0847F3-8405-41B2-B818-EA5BFBC06C99}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.DownloadEvent, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.DownloadEventFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--conversions -->
                    <dimension id="{1A6CE37B-9A5F-4044-AC27-EA07482B9911}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--pageViews -->
                    <dimension id="{6564431B-4537-4B15-8AAD-FDBC93A15C79}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Devie type-->
                    <dimension id="{C7C7B604-3103-4765-939E-56BA87EA768F}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.CES.DeviceDetection.DeviceInformation, Sitecore.CES.DeviceDetection]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceDetectionSettings"/>
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceInformationService"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypeKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Devie model-->
                    <dimension id="{CAF488E4-8C0B-4335-9A4E-AFBBE5EBF796}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.CES.DeviceDetection.DeviceInformation, Sitecore.CES.DeviceDetection]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceDetectionSettings"/>
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceInformationService"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceModelKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypeKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--county-->
                    <dimension id="{3D797C19-DD2D-4705-A7E4-578A2072168D}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.IpInfo, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CountryKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--region-->
                    <dimension id="{044C1661-D44A-4AB0-A6CF-3C9ABF181BED}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.IpInfo, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.RegionKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CountryKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--city-->
                    <dimension id="{EE9125E5-1837-40A7-9442-387FCB75E070}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.IpInfo, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoFactCalculator, Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CityKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CountryKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.RegionKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                </flexibleDimensions>

                <services>
                    <!-- DimensionDefinitionService is responsible for instantiating Experience Analytics Dimensions objects from configuration.
                    The 'pathToConfigNode' parameter specifies the element where the dimensions are expected to be configured.
                    Default: "experienceAnalytics/aggregation/dimensions"
                    -->
                    <dimensionDefinitionService type="Sitecore.ExperienceAnalytics.Aggregation.Repositories.DimensionConfigReader, Sitecore.ExperienceAnalytics.Aggregation" singleInstance="true">
                        <param desc="pathToConfigNode">experienceAnalytics/aggregation/dimensions</param>
                        <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                    </dimensionDefinitionService>

                    <!-- AggregationSegmentRepository is responsible for reading/writing data from/to reference data store.-->
                    <aggregationSegmentRepository type="Sitecore.ExperienceAnalytics.Aggregation.Repositories.AggregationSegmentRepository, Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Core.Repositories.ReferenceData.ReferenceDataSegmentReader, Sitecore.ExperienceAnalytics.Core" />
                        <param type="Sitecore.ExperienceAnalytics.Core.Repositories.ReferenceData.ReferenceDataSegmentStore, Sitecore.ExperienceAnalytics.Core" />
                        <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                    </aggregationSegmentRepository>

                    <!-- SiteReader is responsible for reading data from the SiteNames dimension table in RDB.
                    The 'connectionStringName' parameter the name of the connection string of the RDB instance to connect to.
                    Default: "reporting" -->
                    <siteReader type="Sitecore.ExperienceAnalytics.Core.Repositories.CachedReaderDecorator`2[[System.String], [Sitecore.ExperienceAnalytics.Core.Repositories.Model.Site, Sitecore.ExperienceAnalytics.Core]], Sitecore.ExperienceAnalytics.Core">
                        <param type="Sitecore.ExperienceAnalytics.Core.Repositories.SiteSqlReader, Sitecore.ExperienceAnalytics.Core">
                            <param desc="connectionStringName">reporting</param>
                        </param>
                        <param desc="cacheName">ExperienceAnalytics.Sites</param>
                        <param desc="cacheMaxSize">1048576</param>
                        <param desc="cacheExpiration">00:05:00</param>
                        <param desc="useSlidingCacheExpiration">false</param>
                        <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                    </siteReader>

                    <deviceInformationService type="Sitecore.ExperienceAnalytics.Core.Adapters.DeviceInformationAdapter, Sitecore.ExperienceAnalytics.Core"/>
                    <deviceDetectionSettings type="Sitecore.ExperienceAnalytics.Core.Adapters.DeviceDetectionSettingsAdapter, Sitecore.ExperienceAnalytics.Core"/>
                    <hierarchicalIdDimensionKeyStrategy type="Sitecore.ExperienceAnalytics.Core.Repositories.Model.HierarchicalIdDimensionKeyStrategy, Sitecore.ExperienceAnalytics.Core"/>
                    <customTaxonomyManagerAdapter type="Sitecore.ExperienceAnalytics.Core.Adapters.CustomTaxonomyManagerAdapter, Sitecore.ExperienceAnalytics.Core"/>
                </services>
            </aggregation>
        </experienceAnalytics>
        <aggregation>
            <routines>
                <ExecRoutineStatementBuilder>
                    <mappings>
                        <SqlMappingEntity uid="Fact_SegmentMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_SegmentMetrics</Table>
                            <Routine>Add_SegmentMetrics_Tvp</Routine>
                            <TableType>SegmentMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow >
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="SegmentRecords" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>SegmentRecords</Table>
                            <Routine>Ensure_SegmentRecords_Tvp</Routine>
                            <TableType>SegmentRecords_Type</TableType>
                            <IsMultiRow>True</IsMultiRow >
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="DimensionKeys" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>DimensionKeys</Table>
                            <Routine>Ensure_DimensionKeys_Tvp</Routine>
                            <TableType>DimensionKeys_Type</TableType>
                            <IsMultiRow>True</IsMultiRow >
                        </SqlMappingEntity>
                    </mappings>
                </ExecRoutineStatementBuilder>
            </routines>
        </aggregation>
        <pipelines>
            <group groupName="analytics.aggregation">
                <pipelines>
                    <interactions>
                        <!-- The pipeline processor is building Facts and Dimensions for each segment registered in Experience Analytics -->
                        <processor type="Sitecore.ExperienceAnalytics.Aggregation.Pipeline.InteractionProcessor, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.Pipeline.SegmentProcessor">
                                <param type="Sitecore.ExperienceAnalytics.Aggregation.Rules.RulesValidator, Sitecore.ExperienceAnalytics.Aggregation" />
                                <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.Plumbing.FlexibleDimensionConfigReader, Sitecore.ExperienceAnalytics.Aggregation" />
                                <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                            </param>
                            <param desc="aggregationSegmentProcessor" ref="experienceAnalytics/aggregation/services/aggregationSegmentRepository"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </processor>
                        <processor type="Sitecore.ExperienceAnalytics.Aggregation.Pipeline.ReportingRebuildProcessor, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.ReportingRebuild.ReportingRebuildCompletionManager, Sitecore.ExperienceAnalytics.Aggregation" singleInstance="true" />
                        </processor>
                    </interactions>
                </pipelines>
            </group>
        </pipelines>
        <settings>
            <!-- EXPERIENCE ANALYTICS - AGGREGATION - SEGMENT DEPLOY DATE OFFSET PADDING
           Controls additional padding when interaction's SaveDateTime is compared with segment's deploy date.
           The timespan built from the value of this setting is added to the segment's deploy date.
           When a segment is being deployed, the DeployDate will be DateTime.UtcNow.Add(SegmentDeployDateOffsetPadding)
           Interaction data for the particular segment will be processed if interaction.SaveDateTime > segment.DeployDate
           Default value: 00:30:00 (30 minutes)
            -->
            <setting name="ExperienceAnalytics.Aggregation.SegmentDeployDateOffsetPadding" value="00:30:00" />
        </settings>
    </sitecore>
</configuration>